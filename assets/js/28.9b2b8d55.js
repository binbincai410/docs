(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{404:function(t,e,s){"use strict";s.r(e);var a=s(26),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"websocket-介紹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#websocket-介紹"}},[t._v("#")]),t._v(" Websocket 介紹")]),t._v(" "),s("h2",{attrs:{id:"接入方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接入方式"}},[t._v("#")]),t._v(" 接入方式")]),t._v(" "),s("p",[t._v("行情Websocket的接入URL："),s("code",[t._v("wss://open-ws-swap.bingbon.pro/ws")])]),t._v(" "),s("h2",{attrs:{id:"數據壓縮"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#數據壓縮"}},[t._v("#")]),t._v(" 數據壓縮")]),t._v(" "),s("p",[t._v("WebSocket 行情介面返回的所有數據都進行了 GZIP 壓縮，需要 client 在收到數據之後解壓。")]),t._v(" "),s("h2",{attrs:{id:"心跳信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#心跳信息"}},[t._v("#")]),t._v(" 心跳信息")]),t._v(" "),s("p",[t._v("當用戶的Websocket客戶端連接到Bingbon Websocket伺服器後，伺服器會定期（當前設為5秒）向其發送心跳字元串Ping，")]),t._v(" "),s("p",[t._v("當用戶的Websocket客戶端接收到此心跳消息後，應返回字元串Pong消息")]),t._v(" "),s("h2",{attrs:{id:"訂閱方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#訂閱方式"}},[t._v("#")]),t._v(" 訂閱方式")]),t._v(" "),s("p",[t._v("成功建立與Websocket伺服器的連接後，Websocket客戶端發送如下請求以訂閱特定主題：")]),t._v(" "),s("p",[t._v('{\n"id": "id1",\n"reqType": "sub",\n"dataType": "data to sub",\n}')]),t._v(" "),s("p",[t._v("成功訂閱後，Websocket客戶端將收到確認：")]),t._v(" "),s("p",[t._v('{\n"id": "id1",\n"code": 0,\n"msg": "",\n}\n之後, 一旦所訂閱的數據有更新，Websocket客戶端將收到伺服器推送的更新消息')]),t._v(" "),s("h2",{attrs:{id:"取消訂閱"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#取消訂閱"}},[t._v("#")]),t._v(" 取消訂閱")]),t._v(" "),s("p",[t._v("取消訂閱的格式如下：")]),t._v(" "),s("p",[t._v('{\n"id": "id1",\n"reqType": "unsub",\n"dataType": "data to unsub",\n}')]),t._v(" "),s("p",[t._v("取消訂閱成功確認：")]),t._v(" "),s("p",[t._v('{\n"id": "id1",\n"code": 0,\n"msg": "",\n}')])])}),[],!1,null,null,null);e.default=n.exports}}]);