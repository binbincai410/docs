(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{413:function(t,e,s){"use strict";s.r(e);var a=s(26),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"websocket-介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#websocket-介绍"}},[t._v("#")]),t._v(" Websocket 介绍")]),t._v(" "),s("h2",{attrs:{id:"接入方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接入方式"}},[t._v("#")]),t._v(" 接入方式")]),t._v(" "),s("p",[t._v("行情Websocket的接入URL："),s("code",[t._v("wss://open-ws-swap.bingbon.pro/ws")])]),t._v(" "),s("h2",{attrs:{id:"数据压缩"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据压缩"}},[t._v("#")]),t._v(" 数据压缩")]),t._v(" "),s("p",[t._v("WebSocket 行情接口返回的所有数据都进行了 GZIP 压缩，需要 client 在收到数据之后解压。")]),t._v(" "),s("h2",{attrs:{id:"心跳信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#心跳信息"}},[t._v("#")]),t._v(" 心跳信息")]),t._v(" "),s("p",[t._v("当用户的Websocket客户端连接到Bingbon Websocket服务器后，服务器会定期（当前设为5秒）向其发送心跳字符串Ping，")]),t._v(" "),s("p",[t._v("当用户的Websocket客户端接收到此心跳消息后，应返回字符串Pong消息")]),t._v(" "),s("h2",{attrs:{id:"订阅方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#订阅方式"}},[t._v("#")]),t._v(" 订阅方式")]),t._v(" "),s("p",[t._v("成功建立与Websocket服务器的连接后，Websocket客户端发送如下请求以订阅特定主题：")]),t._v(" "),s("p",[t._v('{\n"id": "id1",\n"reqType": "sub",\n"dataType": "data to sub",\n}')]),t._v(" "),s("p",[t._v("成功订阅后，Websocket客户端将收到确认：")]),t._v(" "),s("p",[t._v('{\n"id": "id1",\n"code": 0,\n"msg": "",\n}\n之后, 一旦所订阅的数据有更新，Websocket客户端将收到服务器推送的更新消息')]),t._v(" "),s("h2",{attrs:{id:"取消订阅"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#取消订阅"}},[t._v("#")]),t._v(" 取消订阅")]),t._v(" "),s("p",[t._v("取消订阅的格式如下：")]),t._v(" "),s("p",[t._v('{\n"id": "id1",\n"reqType": "unsub",\n"dataType": "data to unsub",\n}')]),t._v(" "),s("p",[t._v("取消订阅成功确认：")]),t._v(" "),s("p",[t._v('{\n"id": "id1",\n"code": 0,\n"msg": "",\n}')])])}),[],!1,null,null,null);e.default=n.exports}}]);